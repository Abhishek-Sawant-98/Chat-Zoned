"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[672],{9436:function(e,s,t){t.r(s),t.d(s,{default:function(){return Z}});var n=t(885),a=t(2791),r=t(5861),i=t(4942),o=t(1413),c=t(7757),l=t.n(c),d=t(2033),m=t(6871),u=t(3239),p=t(8745),g=t(8836),f=t(8400),h=t(2651),b=t(1130),x=t(9405),w=t(184),j=function(){var e=(0,x.C)(f.Pw),s=e.loading,t=e.disableIfLoading,c=e.formLabelClassName,j=e.formFieldClassName,N=e.inputFieldClassName,v=e.btnSubmitClassName,_=e.btnResetClassName,y=(0,x.T)(),P=(0,a.useState)(!1),C=(0,n.Z)(P,2),Z=C[0],k=C[1],S=(0,m.s0)(),F=(0,a.useState)({email:"",password:""}),I=(0,n.Z)(F,2),R=I[0],L=I[1],D=R.email,E=R.password,K=function(e){return function(s){L((0,o.Z)((0,o.Z)({},R),{},(0,i.Z)({},e,s.target.value)))}},q=function(){var e=(0,r.Z)(l().mark((function e(s){var t,n,a,r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.preventDefault(),D&&E){e.next=3;break}return e.abrupt("return",y((0,h.Km)({message:"Please Enter All the Fields",type:"warning",duration:5e3,position:"bottom-center"})));case 3:return y((0,f.K4)(!0)),t=(0,b.uZ)({}),e.prev=5,e.next=8,d.Z.post("/api/user/login",{email:D,password:E},t);case 8:n=e.sent,a=n.data,y((0,h.Km)({title:"Login Successful",message:"Your login session will expire in 15 days",type:"success",duration:5e3,position:"bottom-center"})),localStorage.setItem("loggedInUser",JSON.stringify(a)),y((0,g.yM)(a)),y((0,f.K4)(!1)),S("/chats"),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(5),y((0,h.Km)({title:"Login Failed",message:(null===(r=e.t0.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.message)||e.t0.message,type:"error",duration:5e3,position:"bottom-center"})),y((0,f.K4)(!1));case 21:case"end":return e.stop()}}),e,null,[[5,17]])})));return function(s){return e.apply(this,arguments)}}();return(0,w.jsxs)("form",{className:"app__form user-select-none row",style:{pointerEvents:s?"none":"auto"},children:[(0,w.jsxs)("section",{className:"".concat(j," mb-2 col-md-6"),children:[(0,w.jsxs)("label",{htmlFor:"login__email",className:"".concat(c),children:["Email ID ",(0,w.jsx)("span",{className:"required",children:"*"})]}),(0,w.jsx)("input",{type:"email",value:D,onChange:K("email"),required:!0,autoFocus:!0,name:"email",id:"login__email",className:"".concat(N),placeholder:"Used While Registering"})]}),(0,w.jsxs)("section",{className:"".concat(j," mb-4 col-md-6"),children:[(0,w.jsxs)("label",{htmlFor:"login__password",className:"".concat(c),children:["Password ",(0,w.jsx)("span",{className:"required",children:"*"})]}),(0,w.jsxs)("div",{className:"input-group",children:[(0,w.jsx)("input",{type:Z?"text":"password",value:E,onChange:K("password"),required:!0,name:"password",id:"login__password",className:"".concat(N," rounded-end"),placeholder:"Hope You Remember"}),(0,w.jsx)(p.Z,{disableIfLoading:t,showPassword:Z,setShowPassword:k})]})]}),(0,w.jsxs)("section",{className:"".concat(j," mb-3 d-flex justify-content-between"),children:[(0,w.jsx)("button",{type:"submit",name:"btnLogin",id:"login__btnLogin",onClick:q,className:"".concat(v),children:s?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(u.Z,{size:25,style:{color:"white",margin:"0px 15px 0px -20px"}}),"Signing in..."]}):"Login"}),(0,w.jsx)("button",{type:"reset",name:"btnReset",id:"login__btnReset",onClick:function(e){e.preventDefault(),L({email:"",password:""})},className:"".concat(_),children:"Reset"})]}),(0,w.jsx)("section",{className:"".concat(j," mb-2"),children:(0,w.jsx)("button",{name:"btnGetGuestCredentials",id:"login__btnGetGuestCredentials",onClick:function(e){e.preventDefault(),L({email:"guest.user@gmail.com",password:"guest@987"})},className:"btn btn-outline-success w-100 fs-4 p-1 rounded-pill",children:"Get Guest Credentials"})})]})},N=(0,t(6189).Z)((0,w.jsx)("path",{d:"M3 4V1h2v3h3v2H5v3H3V6H0V4h3zm3 6V7h3V4h7l1.83 2H21c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2V10h3zm7 9c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-3.2-5c0 1.77 1.43 3.2 3.2 3.2s3.2-1.43 3.2-3.2-1.43-3.2-3.2-3.2-3.2 1.43-3.2 3.2z"}),"AddAPhoto"),v="https://res.cloudinary.com/abhi-sawant/image/upload/v1653670527/user_dqzjdz.png",_=function(){var e=(0,x.C)(f.Pw),s=e.loading,t=e.disableIfLoading,c=e.formLabelClassName,j=e.formFieldClassName,_=e.inputFieldClassName,y=e.btnSubmitClassName,P=e.btnResetClassName,C=(0,x.T)(),Z=(0,m.s0)(),k=(0,a.useState)(!1),S=(0,n.Z)(k,2),F=S[0],I=S[1],R=(0,a.useRef)(),L=(0,a.useState)({name:"",email:"",password:"",confirmPassword:"",profilePic:"",profilePicUrl:v}),D=(0,n.Z)(L,2),E=D[0],K=D[1],q=E.name,M=E.email,O=E.password,U=E.confirmPassword,z=E.profilePic,A=E.profilePicUrl,T=function(e){return function(s){K((0,o.Z)((0,o.Z)({},E),{},(0,i.Z)({},e,s.target.value)))}},H=function(){var e=(0,r.Z)(l().mark((function e(s){var t,n,a,r,i,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.preventDefault(),q&&M&&O&&U){e.next=3;break}return e.abrupt("return",C((0,h.Km)({message:"Please Enter All the Fields",type:"warning",duration:3e3,position:"bottom-center"})));case 3:if(!(q.length>25)){e.next=5;break}return e.abrupt("return",C((0,h.Km)({message:"Name Must be Less than 25 characters",type:"warning",duration:3e3,position:"bottom-center"})));case 5:if(/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(M)){e.next=7;break}return e.abrupt("return",C((0,h.Km)({message:"Please Enter a Valid Email ID",type:"warning",duration:3e3,position:"bottom-center"})));case 7:if(O===U){e.next=9;break}return e.abrupt("return",C((0,h.Km)({message:"Passwords Do Not Match",type:"warning",duration:3e3,position:"bottom-center"})));case 9:return C((0,f.K4)(!0)),t=(0,b.uZ)({formData:!0}),(n=new FormData).append("profilePic",z),n.append("name",q),n.append("email",M),n.append("password",O),e.prev=16,e.next=19,d.Z.post("/api/user/register",n,t);case 19:a=e.sent,r=a.data,C((0,h.Km)({title:"Registration Successful",message:"Your login session will expire in 15 days",type:"success",duration:5e3,position:"bottom-center"})),localStorage.setItem("loggedInUser",JSON.stringify(r)),C((0,g.yM)(r)),C((0,f.K4)(!1)),Z("/chats"),e.next=32;break;case 28:e.prev=28,e.t0=e.catch(16),C((0,h.Km)({title:"Registration Failed",message:(null===(i=e.t0.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.message)||e.t0.message,type:"error",duration:4e3,position:"bottom-center"})),C((0,f.K4)(!1));case 32:case"end":return e.stop()}}),e,null,[[16,28]])})));return function(s){return e.apply(this,arguments)}}();return(0,w.jsxs)("form",{className:"app__form user-select-none row ".concat(t),style:{pointerEvents:s?"none":"auto"},children:[(0,w.jsxs)("section",{className:"app__formfield position-relative mb-4",children:[(0,w.jsx)("img",{className:"userProfilePic img-fluid border border-2 border-primary rounded-circle mt-3",id:"register__imgProfile",src:A,alt:"profilePic"}),(0,w.jsx)("i",{id:"register__selectPic",className:"selectPicIcon position-absolute p-2 d-flex ".concat(t," justify-content-center align-items-center bg-success rounded-circle pointer"),onClick:function(){var e;s||null===R||void 0===R||null===(e=R.current)||void 0===e||e.click()},children:(0,w.jsx)(N,{className:"text-light fs-6"})}),(0,w.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){if(e&&e.target&&e.target.files){var s=e.target.files[0];if(s){if(!(0,b.CO)(s.name))return C((0,h.Km)({title:"Invalid Image File",message:"Please Select an Image File (png/jpg/jpeg/svg/webp)",type:"warning",duration:5e3,position:"bottom-center"}));if(s.size>=b.BO){if(!R||!R.current)return;return R.current.value="",C((0,h.Km)({message:"Please Select an Image Smaller than 2 MB",type:"warning",duration:3e3,position:"bottom-center"}))}K((0,o.Z)((0,o.Z)({},E),{},{profilePic:s,profilePicUrl:URL.createObjectURL(s)}))}}},name:"profilepic",id:"register__img_input",ref:R,className:"d-none"})]}),(0,w.jsxs)("section",{className:"".concat(j," mb-2 col-md-6 order-md-1"),children:[(0,w.jsxs)("label",{htmlFor:"register__username",className:"".concat(c),children:["Name ",(0,w.jsx)("span",{className:"required",children:"*"})]}),(0,w.jsx)("input",{type:"text",value:q,onChange:T("name"),required:!0,name:"username",id:"register__username",className:"".concat(_),placeholder:"Eg: John Titor"})]}),(0,w.jsxs)("section",{className:"".concat(j," mb-2 col-md-6 order-md-3"),children:[(0,w.jsxs)("label",{htmlFor:"register__email",className:"".concat(c),children:["Email ID ",(0,w.jsx)("span",{className:"required",children:"*"})]}),(0,w.jsx)("input",{type:"email",value:M,onChange:T("email"),required:!0,name:"email",id:"register__email",className:"".concat(_),placeholder:"Eg: john.titor@yahoo.com"})]}),(0,w.jsxs)("section",{className:"".concat(j," mb-2 col-md-6 order-md-2"),children:[(0,w.jsxs)("label",{htmlFor:"register__password",className:"".concat(c),children:["Password ",(0,w.jsx)("span",{className:"required",children:"*"})]}),(0,w.jsxs)("div",{className:"input-group",children:[(0,w.jsx)("input",{type:F?"text":"password",value:O,onChange:T("password"),required:!0,name:"password",id:"register__password",className:"".concat(_," rounded-end"),placeholder:"Please Remember This"}),(0,w.jsx)(p.Z,{disableIfLoading:t,showPassword:F,setShowPassword:I})]})]}),(0,w.jsxs)("section",{className:"".concat(j," mb-4 col-md-6 order-md-4"),children:[(0,w.jsxs)("label",{htmlFor:"register__confirmpassword",className:"".concat(c),children:["Confirm Password ",(0,w.jsx)("span",{className:"required",children:"*"})]}),(0,w.jsxs)("div",{className:"input-group",children:[(0,w.jsx)("input",{type:F?"text":"password",value:U,onChange:T("confirmPassword"),required:!0,name:"confirmpassword",id:"register__confirmpassword",className:"".concat(_," rounded-end"),placeholder:"Must Match the Above"}),(0,w.jsx)(p.Z,{disableIfLoading:t,showPassword:F,setShowPassword:I})]})]}),(0,w.jsxs)("section",{className:"".concat(j," mb-2 d-flex justify-content-between order-last"),children:[(0,w.jsx)("button",{type:"submit",name:"btnRegister",id:"register__btnRegister",onClick:H,className:"".concat(y),children:s?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(u.Z,{size:25,style:{color:"white",margin:"0px 15px 0px -20px"}}),"Signing Up..."]}):"Register"}),(0,w.jsx)("button",{type:"reset",name:"btnReset",id:"register__btnReset",onClick:function(e){e.preventDefault(),K({name:"",email:"",password:"",confirmPassword:"",profilePic:"",profilePicUrl:v}),R&&R.current&&(R.current.value="")},className:"".concat(P),children:"Reset"})]})]})},y=t(4625),P=t(1324),C=(new Date).getFullYear(),Z=function(){var e=(0,x.C)(g.p_).loggedInUser,s=(0,x.C)(f.Pw).disableIfLoading,t=(0,a.useRef)(),r=(0,a.useState)(!0),i=(0,n.Z)(r,2),o=i[0],c=i[1],l=(0,m.s0)();return(0,a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("loggedInUser"));e&&Date.now()<e.expiryTime&&l("/chats")}),[]),(0,w.jsxs)(w.Fragment,{children:[!e&&(0,w.jsxs)("section",{className:"homepage container-fluid d-flex flex-column p-4",children:[(0,w.jsxs)("section",{className:"homepage__header container pt-0 pb-2 ps-1 pe-4 mb-2 user-select-none",children:[(0,w.jsx)(y.Z,{ref:t,className:"d-inline-block me-2",style:{width:"35px",height:"35px"},animationData:P}),(0,w.jsx)("span",{className:"d-inline-block mt-2",children:"CHAT ZONED"})]}),(0,w.jsxs)("section",{className:"app__body container p-2 mb-2 ".concat(s),children:[(0,w.jsxs)("div",{className:"container d-flex justify-content-between",children:[(0,w.jsx)("button",{className:"app__btnToggle fs-4 btn ".concat(o?"btn-warning":"text-light"," rounded-pill col m-1 ").concat(s),onMouseDown:function(){return c(!0)},children:"Login"}),(0,w.jsx)("button",{className:"app__btnToggle fs-4 btn ".concat(o?"text-light":"btn-warning"," rounded-pill col m-1 ").concat(s),onMouseDown:function(){return c(!1)},children:"Register"})]}),(0,w.jsx)("section",{className:"app__form container text-light p-2 ".concat(s),children:o?(0,w.jsx)(j,{}):(0,w.jsx)(_,{})})]})]}),o&&(0,w.jsxs)("div",{className:"footer fs-5 w-75 text-light",children:["\xa9 ",C," Made with \ud83d\udc99 by \xa0",(0,w.jsx)("a",{id:"footerLink",className:"text-decoration-none",href:"https://github.com/Abhishek-Sawant-98",target:"blank",children:(0,w.jsx)("strong",{children:"Abhishek Sawant"})})]})]})}},2554:function(e,s,t){var n;t.d(s,{F4:function(){return o},iv:function(){return i}});var a=t(2791),r=(t(76),t(2110),t(1346));(n||(n=t.t(a,2))).useInsertionEffect?(n||(n=t.t(a,2))).useInsertionEffect:a.useLayoutEffect;function i(){for(var e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.O)(s)}var o=function(){var e=i.apply(void 0,arguments),s="animation-"+e.name;return{name:s,styles:"@keyframes "+s+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},168:function(e,s,t){function n(e,s){return s||(s=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(s)}}))}t.d(s,{Z:function(){return n}})}}]);
//# sourceMappingURL=672.e88c9668.chunk.js.map