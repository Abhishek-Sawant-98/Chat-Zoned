"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[659],{6659:function(e,s,t){t.r(s),t.d(s,{default:function(){return _}});var n=t(885),a=t(2791),r=t(5861),i=t(4942),o=t(1413),c=t(7757),l=t.n(c),d=t(7411),m=t(6871),u=t(5651),p=t(3239),g=t(4094),h=t(184),f=function(){var e=(0,a.useState)(!1),s=(0,n.Z)(e,2),t=s[0],c=s[1],f=(0,m.s0)(),b=(0,a.useState)({email:"",password:""}),x=(0,n.Z)(b,2),w=x[0],j=x[1],N=w.email,_=w.password,v=function(e){return function(s){j((0,o.Z)((0,o.Z)({},w),{},(0,i.Z)({},e,s.target.value)))}},y=(0,u.a)(),C=y.displayToast,P=y.formClassNames,k=y.setLoggedInUser,Z=P.loading,S=P.setLoading,L=P.disableIfLoading,R=P.formLabelClassName,I=P.formFieldClassName,F=P.inputFieldClassName,D=P.btnSubmitClassName,U=P.btnResetClassName,q=function(){var e=(0,r.Z)(l().mark((function e(s){var t,n,a,r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.preventDefault(),N&&_){e.next=3;break}return e.abrupt("return",C({message:"Please Enter All the Fields",type:"warning",duration:5e3,position:"bottom-center"}));case 3:return S(!0),t={headers:{"Content-Type":"application/json"}},e.prev=5,e.next=8,d.Z.post("/api/user/login",{email:N,password:_},t);case 8:n=e.sent,a=n.data,C({message:"Login Successful",type:"success",duration:2e3,position:"bottom-center"}),sessionStorage.setItem("loggedInUser",JSON.stringify(a)),k(a),S(!1),f("/chats"),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(5),C({title:"Login Failed",message:(null===(r=e.t0.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.message)||e.t0.message,type:"error",duration:5e3,position:"bottom-center"}),S(!1);case 21:case"end":return e.stop()}}),e,null,[[5,17]])})));return function(s){return e.apply(this,arguments)}}();return(0,h.jsxs)("form",{className:"app__form user-select-none row",style:{pointerEvents:Z?"none":"auto"},children:[(0,h.jsxs)("section",{className:"".concat(I," mb-2 col-md-6"),children:[(0,h.jsxs)("label",{htmlFor:"login__email",className:"".concat(R),children:["Email ID ",(0,h.jsx)("span",{className:"required",children:"*"})]}),(0,h.jsx)("input",{type:"email",value:N,onChange:v("email"),required:!0,autoFocus:!0,name:"email",id:"login__email",className:"".concat(F),placeholder:"Used While Registering"})]}),(0,h.jsxs)("section",{className:"".concat(I," mb-4 col-md-6"),children:[(0,h.jsxs)("label",{htmlFor:"login__password",className:"".concat(R),children:["Password ",(0,h.jsx)("span",{className:"required",children:"*"})]}),(0,h.jsxs)("div",{className:"input-group",children:[(0,h.jsx)("input",{type:t?"text":"password",value:_,onChange:v("password"),required:!0,name:"password",id:"login__password",className:"".concat(F," rounded-end"),placeholder:"Hope You Remember"}),(0,h.jsx)(g.Z,{disableIfLoading:L,showPassword:t,setShowPassword:c})]})]}),(0,h.jsxs)("section",{className:"".concat(I," mb-3 d-flex justify-content-between"),children:[(0,h.jsx)("button",{type:"submit",name:"btnLogin",id:"login__btnLogin",onClick:q,className:"".concat(D),children:Z?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(p.Z,{size:25,style:{color:"white",margin:"0px 15px 0px -20px"}}),"Signing in..."]}):"Login"}),(0,h.jsx)("button",{type:"reset",name:"btnReset",id:"login__btnReset",onClick:function(e){e.preventDefault(),j({email:"",password:""})},className:"".concat(U),children:"Reset"})]}),(0,h.jsx)("section",{className:"".concat(I," mb-2"),children:(0,h.jsx)("button",{name:"btnGetGuestCredentials",id:"login__btnGetGuestCredentials",onClick:function(e){e.preventDefault(),j({email:"guest.user@gmail.com",password:"guest@987"})},className:"btn btn-outline-success w-100 fs-4 p-1 rounded-pill",children:"Get Guest Credentials"})})]})},b=(0,t(6189).Z)((0,h.jsx)("path",{d:"M3 4V1h2v3h3v2H5v3H3V6H0V4h3zm3 6V7h3V4h7l1.83 2H21c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2V10h3zm7 9c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-3.2-5c0 1.77 1.43 3.2 3.2 3.2s3.2-1.43 3.2-3.2-1.43-3.2-3.2-3.2-3.2 1.43-3.2 3.2z"}),"AddAPhoto"),x=t(7055),w=function(){var e=(0,a.useState)(!1),s=(0,n.Z)(e,2),t=s[0],c=s[1],f=(0,a.useRef)(),w=(0,a.useState)({name:"",email:"",password:"",confirmPassword:"",profilePic:null,profilePicUrl:x.dQ}),j=(0,n.Z)(w,2),N=j[0],_=j[1],v=N.name,y=N.email,C=N.password,P=N.confirmPassword,k=N.profilePic,Z=N.profilePicUrl,S=function(e){return function(s){_((0,o.Z)((0,o.Z)({},N),{},(0,i.Z)({},e,s.target.value)))}},L=(0,m.s0)(),R=(0,u.a)(),I=R.displayToast,F=R.formClassNames,D=R.setLoggedInUser,U=F.loading,q=F.setLoading,E=F.disableIfLoading,M=F.formLabelClassName,T=F.formFieldClassName,A=F.inputFieldClassName,z=F.btnSubmitClassName,H=F.btnResetClassName,V=function(){var e=(0,r.Z)(l().mark((function e(s){var t,n,a,r,i,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.preventDefault(),v&&y&&C&&P){e.next=3;break}return e.abrupt("return",I({message:"Please Enter All the Fields",type:"warning",duration:3e3,position:"bottom-center"}));case 3:if(!(v.length>25)){e.next=5;break}return e.abrupt("return",I({message:"Name Must be Less than 25 characters",type:"warning",duration:3e3,position:"bottom-center"}));case 5:if(/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(y)){e.next=7;break}return e.abrupt("return",I({message:"Please Enter a Valid Email ID",type:"warning",duration:3e3,position:"bottom-center"}));case 7:if(C===P){e.next=9;break}return e.abrupt("return",I({message:"Passwords Do Not Match",type:"warning",duration:3e3,position:"bottom-center"}));case 9:return q(!0),t={headers:{"Content-Type":"multipart/form-data"}},(n=new FormData).append("profilePic",k),n.append("name",v),n.append("email",y),n.append("password",C),e.prev=16,e.next=19,d.Z.post("/api/user/register",n,t);case 19:a=e.sent,r=a.data,I({message:"Registration Successful",type:"success",duration:3e3,position:"bottom-center"}),sessionStorage.setItem("loggedInUser",JSON.stringify(r)),D(r),q(!1),L("/chats"),e.next=32;break;case 28:e.prev=28,e.t0=e.catch(16),I({title:"Registration Failed",message:(null===(i=e.t0.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.message)||e.t0.message,type:"error",duration:4e3,position:"bottom-center"}),q(!1);case 32:case"end":return e.stop()}}),e,null,[[16,28]])})));return function(s){return e.apply(this,arguments)}}();return(0,h.jsxs)("form",{className:"app__form user-select-none row ".concat(E),style:{pointerEvents:U?"none":"auto"},children:[(0,h.jsxs)("section",{className:"app__formfield position-relative mb-4",children:[(0,h.jsx)("img",{className:"userProfilePic img-fluid border border-2 border-primary rounded-circle mt-3",id:"register__imgProfile",src:Z,alt:"profilePic"}),(0,h.jsx)("i",{id:"register__selectPic",className:"selectPicIcon position-absolute p-2 d-flex ".concat(E," justify-content-center align-items-center bg-success rounded-circle pointer"),onClick:function(){U||f.current.click()},children:(0,h.jsx)(b,{className:"text-light fs-6"})}),(0,h.jsx)("input",{type:"file",accept:".png, .jpg, .jpeg .svg",onChange:function(e){var s=e.target.files[0];if(s)return s.size>=2097152?(f.current.value="",I({message:"Please Select an Image Smaller than 2 MB",type:"warning",duration:3e3,position:"bottom-center"})):void _((0,o.Z)((0,o.Z)({},N),{},{profilePic:s,profilePicUrl:URL.createObjectURL(s)}))},name:"profilepic",id:"register__img_input",ref:f,className:"d-none"})]}),(0,h.jsxs)("section",{className:"".concat(T," mb-2 col-md-6 order-md-1"),children:[(0,h.jsxs)("label",{htmlFor:"register__username",className:"".concat(M),children:["Name ",(0,h.jsx)("span",{className:"required",children:"*"})]}),(0,h.jsx)("input",{type:"text",value:v,onChange:S("name"),required:!0,name:"username",id:"register__username",className:"".concat(A),placeholder:"Eg: John Titor"})]}),(0,h.jsxs)("section",{className:"".concat(T," mb-2 col-md-6 order-md-3"),children:[(0,h.jsxs)("label",{htmlFor:"register__email",className:"".concat(M),children:["Email ID ",(0,h.jsx)("span",{className:"required",children:"*"})]}),(0,h.jsx)("input",{type:"email",value:y,onChange:S("email"),required:!0,name:"email",id:"register__email",className:"".concat(A),placeholder:"Eg: john.titor@yahoo.com"})]}),(0,h.jsxs)("section",{className:"".concat(T," mb-2 col-md-6 order-md-2"),children:[(0,h.jsxs)("label",{htmlFor:"register__password",className:"".concat(M),children:["Password ",(0,h.jsx)("span",{className:"required",children:"*"})]}),(0,h.jsxs)("div",{className:"input-group",children:[(0,h.jsx)("input",{type:t?"text":"password",value:C,onChange:S("password"),required:!0,name:"password",id:"register__password",className:"".concat(A," rounded-end"),placeholder:"Please Remember This"}),(0,h.jsx)(g.Z,{disableIfLoading:E,showPassword:t,setShowPassword:c})]})]}),(0,h.jsxs)("section",{className:"".concat(T," mb-4 col-md-6 order-md-4"),children:[(0,h.jsxs)("label",{htmlFor:"register__confirmpassword",className:"".concat(M),children:["Confirm Password ",(0,h.jsx)("span",{className:"required",children:"*"})]}),(0,h.jsxs)("div",{className:"input-group",children:[(0,h.jsx)("input",{type:t?"text":"password",value:P,onChange:S("confirmPassword"),required:!0,name:"confirmpassword",id:"register__confirmpassword",className:"".concat(A," rounded-end"),placeholder:"Must Match the Above"}),(0,h.jsx)(g.Z,{disableIfLoading:E,showPassword:t,setShowPassword:c})]})]}),(0,h.jsxs)("section",{className:"".concat(T," mb-2 d-flex justify-content-between order-last"),children:[(0,h.jsx)("button",{type:"submit",name:"btnRegister",id:"register__btnRegister",onClick:V,className:"".concat(z),children:U?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(p.Z,{size:25,style:{color:"white",margin:"0px 15px 0px -20px"}}),"Signing Up..."]}):"Register"}),(0,h.jsx)("button",{type:"reset",name:"btnReset",id:"register__btnReset",onClick:function(e){e.preventDefault(),_({name:"",email:"",password:"",confirmPassword:"",profilePic:null,profilePicUrl:x.dQ}),f.current.value=""},className:"".concat(H),children:"Reset"})]})]})},j=t(5074),N=t(1324),_=function(){var e=(0,u.a)(),s=e.formClassNames,t=e.loggedInUser,r=s.disableIfLoading,i=(0,a.useRef)(),o=(0,a.useState)(!0),c=(0,n.Z)(o,2),l=c[0],d=c[1],p=(0,m.s0)();return(0,a.useEffect)((function(){JSON.parse(sessionStorage.getItem("loggedInUser"))&&p("/chats")}),[]),(0,h.jsxs)(h.Fragment,{children:[!t&&(0,h.jsxs)("section",{className:"homepage container-fluid d-flex flex-column p-4",children:[(0,h.jsxs)("section",{className:"homepage__header container pt-0 pb-2 ps-1 pe-4 mb-2 user-select-none",children:[(0,h.jsx)(j.Z,{ref:i,className:"d-inline-block me-2",style:{width:"35px",height:"35px"},animationData:N}),(0,h.jsx)("span",{className:"d-inline-block mt-2",children:"CHAT ZONED"})]}),(0,h.jsxs)("section",{className:"app__body container p-2 mb-2 ".concat(r),children:[(0,h.jsxs)("div",{className:"container d-flex justify-content-between",children:[(0,h.jsx)("button",{className:"app__btnToggle fs-4 btn ".concat(l?"btn-warning":"text-light"," rounded-pill col m-1 ").concat(r),onMouseDown:function(){return d(!0)},children:"Login"}),(0,h.jsx)("button",{className:"app__btnToggle fs-4 btn ".concat(l?"text-light":"btn-warning"," rounded-pill col m-1 ").concat(r),onMouseDown:function(){return d(!1)},children:"Register"})]}),(0,h.jsx)("section",{className:"app__form container text-light p-2 ".concat(r),children:l?(0,h.jsx)(f,{}):(0,h.jsx)(w,{})})]})]}),l&&(0,h.jsxs)("div",{className:"footer fs-5 w-50 text-light",children:["\xa9 2022 Made with \ud83d\udc99 by \xa0",(0,h.jsx)("a",{id:"footerLink",className:"text-decoration-none",href:"https://github.com/Abhishek-Sawant-98",target:"blank",children:(0,h.jsx)("strong",{children:"Abhishek Sawant"})})]})]})}}}]);
//# sourceMappingURL=659.269ab866.chunk.js.map